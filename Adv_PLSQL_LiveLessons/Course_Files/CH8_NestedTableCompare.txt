DECLARE

   TYPE DNAME_TYPE IS TABLE OF DEPT.DNAME%Type ;              

   DNAME_TABLE1  DNAME_TYPE := DNAME_TYPE();
   DNAME_TABLE2  DNAME_TYPE := DNAME_TYPE();
   DNAME_COMPARE DNAME_TYPE := DNAME_TYPE();

BEGIN

-- Load DEPT Table --  
 For i IN (SELECT * FROM DEPT) 
  LOOP
   DNAME_TABLE1.EXTEND;
   DNAME_TABLE1(DNAME_TABLE1.last) := i.dname;
  END LOOP;

-- Load DEPT2 Table --  
 For i IN (SELECT * FROM DEPT2) 
   LOOP
    DNAME_TABLE2.EXTEND;
    DNAME_TABLE2(DNAME_TABLE2.last) := i.dname;
   END LOOP;

-- Compare Tables --

 DNAME_COMPARE := DNAME_TABLE1 MULTISET UNION DISTINCT DNAME_TABLE2; 

 IF DNAME_COMPARE.EXISTS(1) THEN
   FOR i IN DNAME_COMPARE.first .. DNAME_COMPARE.last 
      LOOP
        DBMS_OUTPUT.PUT_LINE('UNION Distinct ' || DNAME_COMPARE(i));
       END LOOP;
 ELSE
    DBMS_OUTPUT.PUT_LINE('Union Distinct - no hits');
 END IF;

 DNAME_COMPARE := DNAME_TABLE1 MULTISET INTERSECT DNAME_TABLE2; 

 IF DNAME_COMPARE.EXISTS(1) THEN
   FOR i IN DNAME_COMPARE.first .. DNAME_COMPARE.last 
      LOOP
        DBMS_OUTPUT.PUT_LINE('INTERSECT ' || DNAME_COMPARE(i));
      END LOOP;
 ELSE
   DBMS_OUTPUT.PUT_LINE('Intersect - no hits');
 END IF;

 DNAME_COMPARE := DNAME_TABLE1 MULTISET EXCEPT DNAME_TABLE2; 

 IF DNAME_COMPARE.EXISTS(1) THEN
   FOR i IN DNAME_COMPARE.first .. DNAME_COMPARE.last 
     LOOP
       DBMS_OUTPUT.PUT_LINE('EXCEPT ' || DNAME_COMPARE(i));
     END LOOP;
 ELSE
   DBMS_OUTPUT.PUT_LINE('Except - no hits');
 END IF;

END;
